# 作业

## 1. tu=("alex", [11, 22, {"k1": "v1", "k2": ["age", "name"], "k3": (11, 22, 33)}], 44)

### 1.1 元组的特性

- 不可变数据类型
- 儿子不可修改，孙子可以修改

### 1.2 tu变量中第一个元素"alex"是否可以修改？

- 字符串str, 不可修改

### 1.3 tu变量中"k2"对应的是什么数据类型，是否可以修改，如果可以，添加"Seven"

- 列表list，可以修改
- tu[1][2]["k2"].append("Seven")

### 1.4 tu变量中"k3"对应的是什么数据类型，是否可以修改，如果可以，添加"Seven"

- 元组tuple，不可修改

```python
tu = ("alex", [11, 22, {"k1": "v1", "k2": ["age", "name"], "k3": (11, 22, 33)}], 44)
print(tu)
tu[1][2]["k2"].append("Seven")
print(tu)
```

```
C:\Users\xuluchuan\AppData\Local\Programs\Python\Python36\python.exe D:/develop/my/python/day005/code/dict_prac4.py
('alex', [11, 22, {'k1': 'v1', 'k2': ['age', 'name'], 'k3': (11, 22, 33)}], 44)
('alex', [11, 22, {'k1': 'v1', 'k2': ['age', 'name', 'Seven'], 'k3': (11, 22, 33)}], 44)
```

## 2. dic={'k1': 'v1', 'k2': 'v2', 'k3': [11, 22, 33]}

### 2.1 循环所有的key
### 2.2 循环所有的value
### 2.3 循环所有的key和value
### 2.4 添加键值对 'k4': 'v4'，打印字典
### 2.5 修改k1对应的值为'alex'，打印字典 
### 2.6 k3对应的值中追加一个元素44
### 2.7 k3对应的值得第一个位置插入18

```python
dic = {'k1': 'v1', 'k2': 'v2', 'k3': [11, 22, 33]}
for k in dic:
    print(k)
for v in dic.values():
    print(v)
for k, v in dic.items():
    print(k, ':', v)
dic['k4'] = 'v4'
print(dic)
dic['k1'] = 'alex'
print(dic)
dic['k3'].append(44)
print(dic)
dic['k3'].insert(0, 18)
print(dic)
```

```
C:\Users\xuluchuan\AppData\Local\Programs\Python\Python36\python.exe D:/develop/my/python/day005/code/dict_prac5.py
k1
k2
k3
v1
v2
[11, 22, 33]
k1 : v1
k2 : v2
k3 : [11, 22, 33]
{'k1': 'v1', 'k2': 'v2', 'k3': [11, 22, 33], 'k4': 'v4'}
{'k1': 'alex', 'k2': 'v2', 'k3': [11, 22, 33], 'k4': 'v4'}
{'k1': 'alex', 'k2': 'v2', 'k3': [11, 22, 33, 44], 'k4': 'v4'}
{'k1': 'alex', 'k2': 'v2', 'k3': [18, 11, 22, 33, 44], 'k4': 'v4'}
```

## 3. li = [11, 22, 33, 44, 55, 66, 77, 88, 99, 90],大于66保存在字典第一个key，小于第二个

```python
# 大于66保存在字典第一个key，小于第二个
li = [11, 22, 33, 44, 55, 66, 77, 88, 99, 90]
li_gt_66 = []
li_lt_66 = []
for i in li:
    if i > 66:
        li_gt_66.append(i)
    elif i < 66:
        li_lt_66.append(i)
dic = {'k1': li_gt_66, 'k2': li_lt_66}
print(dic)
```

```
C:\Users\xuluchuan\AppData\Local\Programs\Python\Python36\python.exe D:/develop/my/python/day005/code/dict_prac6.py
{'k1': [77, 88, 99, 90], 'k2': [11, 22, 33, 44, 55]}
```

## 4. 输出商品列表，用户输入序号，显示用户选中的商品

- 商品 li=["手机", "电脑"， "鼠标垫", "游艇"]
- 要求1：页面显示：序号 + 商品名称，如 1 手机
- 要求2：用户输入选择的商品序号,然后打印商品名称
- 要求3：如果用户输入的商品序号有误，则提示输入有误，并重新输入
- 要求4：用户输入Q或q，退出程序

```python
def is_str_to_num(s):
    for c in s:
        if not 48 <= ord(c) <= 57:
            return False
    else:
        return True


li = ["手机", "电脑", "鼠标垫", "游艇"]
# 方法1
# print('遍历列表方法1：')
# for i in li:
#     print("序号：%s   值：%s" % (li.index(i) + 1, i))

# print('\n遍历列表方法2：')
# 方法2
# for i in range(len(li)):
#     print("序号：%s   值：%s" % (i + 1, li[i]))

# 方法3
# print('\n遍历列表方法3：')
# for i, val in enumerate(li):
#     print("序号：%s   值：%s" % (i + 1, val))

# 方法3
# print('\n遍历列表方法3 （设置遍历开始初始位置，只改变了起始序号）：')
# for i, val in enumerate(li, 2):
#     print("序号：%s   值：%s" % (i + 1, val))

while True:
    print('-' * 50)
    print('商品列表如下：')
    for i, val in enumerate(li):
        print(i + 1, val)
    order_num = input('请输入您要购买的商品序号(1-%d)，输入Q或q退出程序：' % len(li))
    if order_num and is_str_to_num(order_num) and 1 <= int(order_num) <= len(li):
        print('您购买的是：%s' % li[int(order_num) - 1])
    elif order_num in ['q', 'Q']:
        break
    else:
        print('您输入有误，请重新输入')
```

```
C:\Users\xuluchuan\AppData\Local\Programs\Python\Python36\python.exe D:/develop/my/python/day005/code/shopping_cart.py
--------------------------------------------------
商品列表如下：
1 手机
2 电脑
3 鼠标垫
4 游艇
请输入您要购买的商品序号(1-4)，输入Q或q退出程序：0
您输入有误，请重新输入
--------------------------------------------------
商品列表如下：
1 手机
2 电脑
3 鼠标垫
4 游艇
请输入您要购买的商品序号(1-4)，输入Q或q退出程序：,
您输入有误，请重新输入
--------------------------------------------------
商品列表如下：
1 手机
2 电脑
3 鼠标垫
4 游艇
请输入您要购买的商品序号(1-4)，输入Q或q退出程序：
您输入有误，请重新输入
--------------------------------------------------
商品列表如下：
1 手机
2 电脑
3 鼠标垫
4 游艇
请输入您要购买的商品序号(1-4)，输入Q或q退出程序：1
您购买的是：手机
--------------------------------------------------
商品列表如下：
1 手机
2 电脑
3 鼠标垫
4 游艇
请输入您要购买的商品序号(1-4)，输入Q或q退出程序：2
您购买的是：电脑
--------------------------------------------------
商品列表如下：
1 手机
2 电脑
3 鼠标垫
4 游艇
请输入您要购买的商品序号(1-4)，输入Q或q退出程序：3
您购买的是：鼠标垫
--------------------------------------------------
商品列表如下：
1 手机
2 电脑
3 鼠标垫
4 游艇
请输入您要购买的商品序号(1-4)，输入Q或q退出程序：4
您购买的是：游艇
--------------------------------------------------
商品列表如下：
1 手机
2 电脑
3 鼠标垫
4 游艇
请输入您要购买的商品序号(1-4)，输入Q或q退出程序：5
您输入有误，请重新输入
--------------------------------------------------
商品列表如下：
1 手机
2 电脑
3 鼠标垫
4 游艇
请输入您要购买的商品序号(1-4)，输入Q或q退出程序：q
```

## 5. 购物车增强版

- 加入商品价格，购买数量，购物车，余额，结账机制

```python
def is_digit(s):
    for c in s:
        if not 48 <= ord(c) <= 57:
            return False
    else:
        return True


li = [
    {'name': '手机', 'price': 3250},
    {'name': '电脑', 'price': 5500},
    {'name': '鼠标垫', 'price': 35.5},
    {'name': '游艇', 'price': 10000},
]
shopping_cart = {}
while True:
    money = input('请输入您要充值的钱：')
    if money and is_digit(money):
        money = int(money)
        print('您的余额有%d元' % money)
        break
    else:
        print('输入错误，请重新输入')
while True:
    print('-' * 50)
    print('商品列表如下：')
    for index, value in enumerate(li):
        print(index + 1, '\t', value['name'], '\t', value['price'])
    order_num = input('请输入您要购买的商品序号(1-%d)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：' % len(li))
    if order_num and is_digit(order_num) and 1 <= int(order_num) <= len(li):
        order_name = li[int(order_num) - 1]['name']
        print('您购买的是：%s' % order_name)
        order_count = input('请输入您要购买的%s数量：' % order_name)
        if order_count and is_digit(order_count):
            order_count = int(order_count)
            order_sum = order_count * li[int(order_num) - 1]['price']
            print('您要购买%d个%s, 总价格为%.2f元' % (order_count, order_name, order_sum))
            if not shopping_cart.get(order_name):
                shopping_cart[order_name] = [order_count, order_sum]
            else:
                shopping_cart[order_name][0] += order_count
                shopping_cart[order_name][1] += order_sum
        else:
            print('您输入有误，请重新输入')
    elif order_num == 'q':
        break
    elif order_num == 'c':
        shopping_cart = {}
    elif order_num == 'l':
        print('-' * 50)
        print('购物车列表如下：')
        if shopping_cart:
            sum_cart = 0
            for k, v in shopping_cart.items():
                print("品名, %s 数量 %d, 总价%.2f " % (k, v[0], v[1]))
                sum_cart += v[1]
            print('订单总金额为：%.2f' % sum_cart)
        else:
            print('购物车为空')
    elif order_num == 'm':
        print('您当前的余额为：%.2f' % money)
    elif order_num == 'b':
        if shopping_cart:
            sum_cart = 0
            for k, v in shopping_cart.items():
                sum_cart += v[1]
            print('订单总金额为：%.2f' % sum_cart)
            if sum_cart > money:
                print('余额不足，购买失败')
            else:
                money -= sum_cart
                print('购买成功')
                shopping_cart = {}
            print('您的当前余额为%.2f' % money)
        else:
            print('购物车为空，无法结账')
    else:
        print('您输入有误，请重新输入')
```

```
C:\Users\xuluchuan\AppData\Local\Programs\Python\Python36\python.exe D:/develop/my/python/day005/code/shopping_cart2.py
请输入您要充值的钱：100000
您的余额有100000元
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：1
您购买的是：手机
请输入您要购买的手机数量：10
您要购买10个手机, 总价格为32500.00元
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：2
您购买的是：电脑
请输入您要购买的电脑数量：10
您要购买10个电脑, 总价格为55000.00元
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：3
您购买的是：鼠标垫
请输入您要购买的鼠标垫数量：10
您要购买10个鼠标垫, 总价格为355.00元
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：4
您购买的是：游艇
请输入您要购买的游艇数量：1
您要购买1个游艇, 总价格为10000.00元
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：l
--------------------------------------------------
购物车列表如下：
品名, 手机 数量 10, 总价32500.00 
品名, 电脑 数量 10, 总价55000.00 
品名, 鼠标垫 数量 10, 总价355.00 
品名, 游艇 数量 1, 总价10000.00 
订单总金额为：97855.00
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：m
您当前的余额为：100000.00
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：b
订单总金额为：97855.00
购买成功
您的当前余额为2145.00
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：1
您购买的是：手机
请输入您要购买的手机数量：1
您要购买1个手机, 总价格为3250.00元
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：l
--------------------------------------------------
购物车列表如下：
品名, 手机 数量 1, 总价3250.00 
订单总金额为：3250.00
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：c
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：2
您购买的是：电脑
请输入您要购买的电脑数量：1
您要购买1个电脑, 总价格为5500.00元
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：b
订单总金额为：5500.00
余额不足，购买失败
您的当前余额为2145.00
--------------------------------------------------
商品列表如下：
1    手机      3250
2    电脑      5500
3    鼠标垫     35.5
4    游艇      10000
请输入您要购买的商品序号(1-4)，输入c清空购物车，输入l查看购物车，输入m查看余额，输入b结账，输入q退出程序：q
```
